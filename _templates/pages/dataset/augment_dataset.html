{% extends layout %}

{% block title %}Genrate Pan Card Data{% endblock %}
{% block content %}
<!--
    Place your html 
-->
<div style="margin-top:10px">
    <form class="autoRecogniseForm" method="post">
        {% csrf_token %} 
        <div class="row mx-0">
            <!-- <div class="col-sm-12">
                <input type="file" id="img" name="image">
            </div> -->
            <div class="border col-md-10 mx-auto rounded">
                <div class="d-flex py-3 mb-3  border-bottom justify-content-between align-items-center">
                    <h5 class="modal-title" id="CanvasModalLabel">Augment Pan Card Data</h5>
                    <div>
                    </div>
                  </div>
                  <div class="row mt-5">
                    <div class="col-sm-6 text-center">
                        <label class="mt-2" for="data_set"><h5>Name</h5></label>
                    </div>
                    <div class="col-sm-6"> 
                        <input type="text" class="form-control" name="data_set" id="data_set" required="true" placeholder="Enter Name">
                    </div>
                    <div class="col-sm-6 text-center">
                        <label class="mt-2" for="count"><h5>Count</h5></label>
                    </div>
                    <div class="col-sm-6"> 
                        <input type="number" class="form-control mt-2" name="data_count" id="count" required="true" placeholder="Cout In Number">
                    </div>
                    <div class="col-sm-6 text-center">
                        <label class="mt-2" for="select_dataset"><h5>Source dataset</h5></label>
                    </div>
                    <div class="col-sm-6"> 
                        <select class="form-select mt-2" name="select_dataset" id="select_dataset">
                            <option value = "">Select source dataset</option>
                            {% for dataset in datasets %}
                            <option value = "{{dataset.id}}">{{dataset.name}}</option>
                            {% endfor %}
                        </select>
                    </div>
                    <div class="col-sm-6 text-center">
                        <label class="mt-3" for="description"><h5>Description</h5></label>
                    </div>
                    <div class="col-sm-6"> 
                        <textarea class="form-control mt-2" name="description" id="description" required="true" placeholder="Enter description"></textarea>
                    </div>
                    <div class="col-sm-6 text-center">
                    </div>
                    <div class="col-sm-6"> 
                        <div class="form-check mb-2">
                            <input type="hidden" name="visual_line" value="0">
                            <input class="form-check-input"  type="checkbox" id="visual_line" checked name="visual_line" value="1">
                            <label class="form-check-label">Visualize Line annotations</label>
                        </div>
                    </div>
                    <div class="col-sm-6 text-center">
                    </div>
                    <div class="col-sm-6"> 
                        <div class="form-check mb-2">
                            <input type="hidden" name="visual_word" value="0">
                            <input class="form-check-input"  type="checkbox" id="visual_word" checked name="visual_word" value="1">
                            <label class="form-check-label">Visualize Word annotations</label>
                        </div>
                    </div>
                    <div class="col-sm-6 text-center">
                    </div>
                    <div class="col-sm-6"> 
                        <div class="form-check mb-2">
                            <input type="hidden" name="is_blur" value="0">
                            <input class="form-check-input"  type="checkbox" id="is_blur" checked name="is_blur" value="1">
                            <label class="form-check-label">Is Blur</label>
                        </div>
                    </div>
                  </div>
                  <div class="d-flex justify-content-end">
                        <!-- <input type="button" class="btn btn-warning" value="Preview" /> -->
                        <input type="submit" class="btn btn-primary mt-2" value="Submit"/>
                  </div>
                </div>
            </div>
           
        </div>
       
    </form>
</div>
{% comment %} <script>
    //This variable contains file path
    var imagePath = '/media/{{image}}';
    document.addEventListener('DOMContentLoaded', () => {
        fetch(imagePath).then(s => s.blob()).then(s => { ///to verify selected file exist on server
            addImageInCanvas(imagePath);
        });
    });
</script>
{% if showTask %}
<script>
    document.getElementById('frmTask').addEventListener('change', function (e) {
        fetch('/task_detail?id=' + e.target.value).then(r => r.json()).then(r => {
            //here if user come from menu
            imagePath = '/media/' + r.MainImageFile;
            addImageInCanvas(imagePath);
        });
    });
</script>
{% endif %} {% endcomment %}
{% endblock content %}